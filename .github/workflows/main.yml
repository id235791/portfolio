name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

permissions:
  contents: write # GitHub Pages ë°°í¬ë¥¼ ìœ„í•´ í•„ìš”

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›
        uses: actions/checkout@v3

      - name: Install Dependencies ğŸ“¦
        run: |
          yarn install

      - name: Build Project ğŸ”§
        run: |
          yarn build
          touch ./out/.nojekyll # GitHub Pagesì—ì„œ _next í´ë” ë¬¸ì œ ë°©ì§€

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages # ë°°í¬í•  ë¸Œëœì¹˜
          folder: out # Next.jsê°€ ë¹Œë“œí•œ ì •ì  íŒŒì¼ì´ ë“¤ì–´ ìˆëŠ” í´ë”
